<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <title>Ejemplo</title>
    <style type="text/css" media="screen">
        .carousel {
            
            max-width: 800px;
            margin: 20px auto;
            display: flex;

        }

        .botones {
            text-decoration: none;
            font-size: 20px;
            color: #ffffff;
            background-color: transparent;
            text-align: center;
            ;
        }



        #imagen {
            width: 100%;
            height: 400px;
            background-size: cover;
            
        }
        h1{
            text-align: center;
        }

    </style>
    <script>
        window.onload = function () {

            const IMAGENES = [ //creo vector que contiene las siguiens imágenes
                "img/alamband.png",
                'img/alambre_galvanizado.png',
                'img/clavo.png',
                'img/rombo.png',
            ];


            const TIEMPO_INTERVALO_MILESIMAS_SEG = 5000;//tiempo 5 segundos entre imagen
            let posicionActual = 0;
            let $botonRetroceder = document.querySelector('#retroceder');
            let $botonAvanzar = document.querySelector('#avanzar');
            let $imagen = document.querySelector('#imagen');
            let $botonPlay = document.querySelector('#play');
            let $botonStop = document.querySelector('#stop');
            let intervalo;

            // Funciones

            /**
             * Funcion que cambia la foto en la siguiente posicion
             */
            function pasarFoto() {
                if (posicionActual >= IMAGENES.length - 1) {
                    posicionActual = 0;
                } else {
                    posicionActual++;
                }
                renderizarImagen();
            }

            /**
             * Funcion que cambia la foto en la anterior posicion
             */
            function retrocederFoto() {
                if (posicionActual <= 0) {
                    posicionActual = IMAGENES.length - 1;
                } else {
                    posicionActual--;
                }
                renderizarImagen();
            }

            function renderizarImagen() { //actualizo imaggen segun posicion
                $imagen.style.backgroundImage = `url(${IMAGENES[posicionActual]})`;
            }


            function playIntervalo() { //Funcion reproducir automaticamente
                intervalo = setInterval(pasarFoto, TIEMPO_INTERVALO_MILESIMAS_SEG);
                // Desactivamos los botones de control
                $botonAvanzar.setAttribute('disabled', true);
                $botonRetroceder.setAttribute('disabled', true);
                $botonPlay.setAttribute('disabled', true);
                $botonStop.removeAttribute('disabled');

            }


            function stopIntervalo() {//se para la reproduccion
                clearInterval(intervalo);
                //activo botones
                $botonAvanzar.removeAttribute('disabled');
                $botonRetroceder.removeAttribute('disabled');
                $botonPlay.removeAttribute('disabled');
                $botonStop.setAttribute('disabled', true);
            }

            // evento de los botone
            $botonAvanzar.addEventListener('click', pasarFoto);
            $botonRetroceder.addEventListener('click', retrocederFoto);
            $botonPlay.addEventListener('click', playIntervalo);
            $botonStop.addEventListener('click', stopIntervalo);
            //inicializo las funciones
            renderizarImagen();
            playIntervalo();
        } 
    </script>
</head>

<body>
    <h1 >Productos Destacados </h1> 
    <div class="carousel">

        <div id="imagen"> </div>


    </div>

    <div class="botones">
<br>
        <button id="avanzar">Avanzar</button>
        <button id="stop" disabled>Parar Reproduccion automática</button>
        <button id="play">Reproducir Automaticamente</button>
        <button id="retroceder">Retroceder</button>
    </div>



</body>

</html>